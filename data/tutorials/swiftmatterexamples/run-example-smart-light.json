{"schemaVersion":{"minor":3,"patch":0,"major":0},"sections":[{"estimatedTimeInMinutes":20,"chapter":"Run the examples","content":[{"inlineContent":[{"type":"text","text":"Build, run, and understand the Smart Light application."}],"type":"paragraph"}],"kind":"hero","title":"Explore the Smart Light example"},{"kind":"tasks","tasks":[{"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Build the Smart Light application and run it on your microcontroller."}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"stepsSection":[{"runtimePreview":null,"caption":[],"content":[{"inlineContent":[{"text":"Connect your ESP32-C6 microcontroller to your host machine over USB using the USB Type-C connector closest to the RGB LED.","type":"text"}],"type":"paragraph"}],"code":null,"type":"step","media":"esp32-c6-usb.png"},{"runtimePreview":null,"type":"step","code":"run-example-smart-light-00.sh","caption":[],"content":[{"inlineContent":[{"type":"text","text":"If you don‚Äôt have it yet, clone the "},{"type":"codeVoice","code":"swift-matter-examples"},{"text":" repository.","type":"text"}],"type":"paragraph"}],"media":null},{"type":"step","caption":[],"content":[{"inlineContent":[{"text":"Navigate to the smart light example.","type":"text"}],"type":"paragraph"}],"code":"run-example-smart-light-01.sh","media":null,"runtimePreview":null},{"content":[{"inlineContent":[{"text":"Use ","type":"text"},{"type":"strong","inlineContent":[{"text":"idf.py","type":"text"}]},{"type":"text","text":" to configure example for the ESP32-C6 microcontroller."}],"type":"paragraph"}],"type":"step","runtimePreview":null,"media":null,"code":"run-example-smart-light-02.sh","caption":[]},{"media":null,"caption":[],"content":[{"inlineContent":[{"text":"Use ","type":"text"},{"type":"strong","inlineContent":[{"text":"idf.py","type":"text"}]},{"type":"text","text":" to build the application."}],"type":"paragraph"}],"code":"run-example-smart-light-03.sh","runtimePreview":null,"type":"step"},{"content":[{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"inlineContent":[{"text":"idf.py","type":"text"}],"type":"strong"},{"type":"text","text":" to flash the application onto your microcontroller."}]}],"media":null,"code":"run-example-smart-light-04.sh","runtimePreview":null,"type":"step","caption":[{"content":[{"inlineContent":[{"text":"Use ","type":"text"},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"Ctrl + ]"}]},{"text":" to exit the monitor program.","type":"text"}],"type":"paragraph"}],"type":"aside","name":"Important","style":"important"}]},{"caption":[{"inlineContent":[{"type":"text","text":"Additionally you should see "},{"code":"üèéÔ∏è Hello, Embedded Swift! (Smart Light)","type":"codeVoice"},{"text":" in the monitor log followed by logs indicating the LED is changing colors.","type":"text"}],"type":"paragraph"}],"code":null,"media":"run-example-smart-light-hello.png","type":"step","content":[{"inlineContent":[{"text":"After flashing completes you should see the microcontroller turn on the LED.","type":"text"}],"type":"paragraph"}],"runtimePreview":null}],"title":"Build and Run","anchor":"Build-and-Run"},{"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Pair and control your microcontroller using Matter."}]},{"content":[{"inlineContent":[{"type":"text","text":"These steps use HomeKit via the ‚ÄúHome‚Äù app on iOS 17, however similar steps should work for other connected home ecosystems."}],"type":"paragraph"}],"style":"important","name":"Important","type":"aside"}],"kind":"contentAndMedia","media":"homekit-logo.png","mediaPosition":"trailing"}],"title":"Connect using Matter","stepsSection":[{"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Be sure you already have a Home hub configured, like a HomePod as shown in this setup."}]}],"type":"step","media":"pairing-00.png","runtimePreview":null,"code":null,"content":[{"inlineContent":[{"type":"text","text":"Open the ‚ÄúHome‚Äù app and select the ‚Äúplus‚Äù icon to add a new accessory."}],"type":"paragraph"}]},{"code":null,"caption":[],"content":[{"inlineContent":[{"text":"Select the ‚ÄúMore options‚Ä¶‚Äù button on the ‚ÄúAdd Accessory‚Äù overlay.","type":"text"}],"type":"paragraph"}],"media":"pairing-01.png","runtimePreview":null,"type":"step"},{"caption":[{"type":"paragraph","inlineContent":[{"text":"If the microcontroller doesn‚Äôt appear in this list you can use ","type":"text"},{"code":"idf.py erase-flash","type":"codeVoice"},{"type":"text","text":" to reset the device and try again."}]}],"media":"pairing-02.png","type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Select the ‚ÄúMatter Accessory‚Äù from the list of nearby accessories."}]}],"code":null,"runtimePreview":null},{"caption":[],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Enter the setup code "},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"2020-2021"}]},{"type":"text","text":" to pair the device."}]}],"code":null,"media":"pairing-03.png","type":"step","runtimePreview":null},{"media":"pairing-04.png","runtimePreview":null,"code":null,"caption":[],"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Your microcontroller should now begin pairing."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"During the pairing process you may be presented with an ‚ÄúUncertified Accessory‚Äù alert, select ‚ÄúAdd Anyway‚Äù to continue pairing."}],"type":"paragraph"}],"code":null,"type":"step","caption":[{"inlineContent":[{"type":"text","text":"This alert is shown because the microcontroller is not a certified device."}],"type":"paragraph"}],"media":"pairing-05.png","runtimePreview":null},{"media":"pairing-06.png","caption":[],"type":"step","code":null,"runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Once the pairing process completes, you should see an ‚ÄúAccessory Added‚Äù overlay indicating success."}],"type":"paragraph"}]},{"type":"step","caption":[],"code":null,"media":"pairing-07.png","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"The microcontroller should now show up in the main list of accessories as a Smart Light.","type":"text"}]}]},{"media":"pairing-08.png","code":null,"runtimePreview":null,"caption":[],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can now control the LED on the microcontroller by selecting the accessory."}]}],"type":"step"},{"media":"pairing-09.png","code":null,"runtimePreview":null,"caption":[],"type":"step","content":[{"inlineContent":[{"type":"text","text":"You can change the brightness of the LED using the primary slider."}],"type":"paragraph"}]},{"type":"step","runtimePreview":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"You can adjust the color using the color wheel."}],"type":"paragraph"}],"media":"pairing-10.png","code":null},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can also adjust the color using a color temperature."}]}],"caption":[],"media":"pairing-11.png","type":"step","code":null,"runtimePreview":null}],"anchor":"Connect-using-Matter"},{"stepsSection":[{"runtimePreview":null,"caption":[],"content":[{"inlineContent":[{"type":"text","text":"We start the application by declaring an "},{"inlineContent":[{"type":"codeVoice","code":"app_main"}],"type":"strong"},{"type":"text","text":" function with a print statement to show the application has started."}],"type":"paragraph"}],"code":"walkthrough-example-smart-light-01.swift","type":"step","media":null},{"media":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We then create an LED instance to operate on. The LED type is the same type used in the LED Blink example."}]}],"code":"walkthrough-example-smart-light-02.swift","caption":[{"type":"paragraph","inlineContent":[{"text":"Next we will start implementing the code required of a Matter accessory.","type":"text"}]}],"runtimePreview":null},{"content":[{"type":"paragraph","inlineContent":[{"text":"The Smart Light example uses a Matter overlay, similar to the LED overlay, which provides idiomatic Swift APIs for Matter C++ APIs.","type":"text"}]}],"style":"important","type":"aside","name":"Important"},{"type":"step","code":"walkthrough-example-smart-light-03.swift","content":[{"inlineContent":[{"text":"In order to create a Matter accessory, we start by initializing a Matter ‚Äúroot node‚Äù, which represents the entire accessory.","type":"text"}],"type":"paragraph"}],"media":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"identifyHandler"},{"type":"text","text":" callback is designed to help identify the physical accessory. In this example, we log a message, but in a real-world application, a smart light might use this callback to flash its light, providing a clear visual indicator of its location."}]}],"runtimePreview":null},{"media":null,"code":"walkthrough-example-smart-light-04.swift","type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Second, we create an ‚Äúendpoint‚Äù, which represents the RGB LED light and an event handler which we will use to convert Matter events to LED adjustments."}]}],"runtimePreview":null,"caption":[]},{"media":null,"runtimePreview":null,"type":"step","code":"walkthrough-example-smart-light-04-a.swift","content":[{"inlineContent":[{"type":"text","text":"We start the event handler by switching over the kind of Matter event (called an "},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"attribute"}]},{"type":"text","text":") to determine which LED property to adjust."}],"type":"paragraph"}],"caption":[]},{"type":"step","media":null,"code":"walkthrough-example-smart-light-04-b.swift","content":[{"inlineContent":[{"text":"Next, we add cases for the ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":".onOff"}],"type":"strong"},{"type":"text","text":" and "},{"inlineContent":[{"type":"codeVoice","code":".levelControl"}],"type":"strong"},{"text":" events. We use each event‚Äôs ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":"value"}],"type":"strong"},{"type":"text","text":" to set the "},{"inlineContent":[{"type":"codeVoice","code":"led.enabled"}],"type":"strong"},{"type":"text","text":" and "},{"inlineContent":[{"type":"codeVoice","code":"led.brightness"}],"type":"strong"},{"text":" properties respectively.","type":"text"}],"type":"paragraph"}],"caption":[{"type":"paragraph","inlineContent":[{"text":"With just these two controls implemented, we are be able to use the light as a switchable and dimmable light.","type":"text"}]}],"runtimePreview":null},{"runtimePreview":null,"type":"step","caption":[{"inlineContent":[{"type":"text","text":"With all three of these controls implemented, we now have a fully adjustable RGB light."}],"type":"paragraph"}],"content":[{"type":"paragraph","inlineContent":[{"text":"We then add the support for the ","type":"text"},{"type":"strong","inlineContent":[{"type":"codeVoice","code":".colorControl"}]},{"text":" event. We can use Swift‚Äôs pattern matching feature to implement each of the hue, saturation, and temperature controls in individual case statements.","type":"text"}]}],"code":"walkthrough-example-smart-light-04-c.swift","media":null},{"runtimePreview":null,"code":"walkthrough-example-smart-light-05.swift","caption":[],"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Now we need to connect up the components. We add the light ‚Äúendpoint‚Äù to the ‚Äúroot node‚Äù making the light a controllable accessory.","type":"text"}]}],"media":null},{"runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"The microcontroller is now a fully functional Matter smart light accessory!","type":"text"}]}],"code":"walkthrough-example-smart-light-06.swift","type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Finally, we create a Matter ‚ÄúApplication‚Äù object, attach it to the ‚Äúroot node‚Äù, and start the application.","type":"text"}]}],"media":null}],"contentSection":[{"kind":"contentAndMedia","content":[{"inlineContent":[{"text":"Take a brief tour of the code that composes the Smart Light example.","type":"text"}],"type":"paragraph"},{"content":[{"inlineContent":[{"type":"text","text":"This walkthrough skips content covered in "},{"isActive":true,"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink","type":"reference"},{"text":".","type":"text"}],"type":"paragraph"}],"type":"aside","name":"Note","style":"note"}],"mediaPosition":"trailing"}],"anchor":"Understand-the-code","title":"Understand the code"}]}],"kind":"project","hierarchy":{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents","paths":[["doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents","doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/$volume","doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Run-the-examples"]],"modules":[{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Setup-your-environment","projects":[{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS","sections":[{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-Xcode","kind":"task"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-the-Swift-Nightly-Toolchain","kind":"task"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-ESP-IDF-and-ESP-Matter-SDKs","kind":"task"},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Setup-your-shell-environment","kind":"task"}]},{"sections":[{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Linux#Build-the-Docker-image-and-tools","kind":"task"},{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Linux#Run-the-container"}],"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Linux"}]},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Run-the-examples","projects":[{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink","sections":[{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink#Build-and-Run"},{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink#Understand-the-code"}]},{"reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light","sections":[{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Build-and-Run"},{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Connect-using-Matter"},{"kind":"task","reference":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Understand-the-code"}]}]}]},"variants":[{"paths":["\/tutorials\/swiftmatterexamples\/run-example-smart-light"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"categoryPathComponent":"Tutorial-Table-of-Contents","title":"Explore the Smart Light example","role":"project","category":"Swift Matter Examples"},"identifier":{"url":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light","interfaceLanguage":"swift"},"references":{"pairing-09.png":{"type":"image","alt":"Home app open the \\\"Matter Accessory\\\" detail view with the brightness set to 50%.","identifier":"pairing-09.png","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-09.png","traits":["1x","light"]}]},"walkthrough-example-smart-light-06.swift":{"fileName":"Main.swift","identifier":"walkthrough-example-smart-light-06.swift","type":"file","syntax":"swift","fileType":"swift","highlights":[{"line":53},{"line":54},{"line":55},{"line":56},{"line":57}],"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    case .onOff:","      led.enabled = (event.value == 1)","","    case .levelControl:","      led.brightness = Int(Float(event.value) \/ 255.0 * 100.0)","","    case .colorControl(.currentHue):","      let newHue = Int(Float(event.value) \/ 255.0 * 360.0)","      led.color = .hueSaturation(newHue, led.color.saturation)","","    case .colorControl(.currentSaturation):","      let newSaturation = Int(Float(event.value) \/ 255.0 * 100.0)","      led.color = .hueSaturation(led.color.hue, newSaturation)","","    case .colorControl(.colorTemperatureMireds):","      let kelvins = 1_000_000 \/ event.value","      led.color = .temperature(kelvins)","","    default:","      break","    }","  }","","  \/\/ (3) Add the endpoint to the node","  rootNode.addEndpoint(lightEndpoint)","","  \/\/ (4) Provide the node to a Matter application and start it","  let app = Matter.Application()","  app.rootNode = rootNode","  app.start()","}"]},"pairing-05.png":{"type":"image","alt":"Home app displaying the \\\"Uncertified Accessory\\\" alert with two options, \\\"Add Anyway\\\" and \\\"Cancel\\\" on top of the \\\"Accessory\\\" overlay.","identifier":"pairing-05.png","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-05.png","traits":["1x","light"]}]},"run-example-smart-light-03.sh":{"fileName":"Run.shell","identifier":"run-example-smart-light-03.sh","type":"file","syntax":"shell","fileType":"shell","highlights":[{"line":11},{"line":12},{"line":13},{"line":14}],"content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git","","# Navigate to the smart light example","$ cd ~\/swift-matter-examples\/smart-light","# In docker use \"cd \/code\/smart-light\"","","# Configure the target microcontroller","$ idf.py set-target esp32c6","","# Build the application","$ idf.py build",""]},"run-example-smart-light-04.sh":{"fileName":"Run.shell","fileType":"shell","identifier":"run-example-smart-light-04.sh","type":"file","content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git","","# Navigate to the smart light example","$ cd ~\/swift-matter-examples\/smart-light","# In docker use \"cd \/code\/smart-light\"","","# Configure the target microcontroller","$ idf.py set-target esp32c6","","# Build the application","$ idf.py build","","# Flash and monitor the application","$ idf.py flash monitor"],"highlights":[{"line":15},{"line":16}],"syntax":"shell"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-Linux#Run-the-container":{"kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Linux#Run-the-container","title":"Run the container","role":"pseudoSymbol","type":"section","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory on Linux using a Docker container.","type":"text"}],"url":"\/tutorials\/swiftmatterexamples\/setup-linux#Run-the-container"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/Tutorial-Table-of-Contents/Setup-your-environment":{"kind":"article","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Setup-your-environment","title":"Setup your environment","role":"article","type":"topic","abstract":[],"url":"\/tutorials\/tutorial-table-of-contents\/setup-your-environment"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-Smart-Light#Connect-using-Matter":{"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Connect-using-Matter","url":"\/tutorials\/swiftmatterexamples\/run-example-smart-light#Connect-using-Matter","type":"section","role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"Build, run, and understand the Smart Light application."}],"title":"Connect using Matter"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS#Setup-your-shell-environment":{"title":"Setup your shell environment","url":"\/tutorials\/swiftmatterexamples\/setup-macos#Setup-your-shell-environment","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory on macOS.","type":"text"}],"kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Setup-your-shell-environment","type":"section","role":"pseudoSymbol"},"walkthrough-example-smart-light-02.swift":{"fileName":"Main.swift","identifier":"walkthrough-example-smart-light-02.swift","type":"file","syntax":"swift","fileType":"swift","highlights":[{"line":15},{"line":16}],"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","}"]},"walkthrough-example-smart-light-04.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    \/\/ TODO...","  }","}"],"type":"file","syntax":"swift","identifier":"walkthrough-example-smart-light-04.swift","highlights":[{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28}],"fileType":"swift","fileName":"Main.swift"},"run-example-smart-light-02.sh":{"fileName":"Run.shell","identifier":"run-example-smart-light-02.sh","type":"file","syntax":"shell","fileType":"shell","highlights":[{"line":7},{"line":8},{"line":9},{"line":10}],"content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git","","# Navigate to the smart light example","$ cd ~\/swift-matter-examples\/smart-light","# In docker use \"cd \/code\/smart-light\"","","# Configure the target microcontroller","$ idf.py set-target esp32c6"]},"pairing-11.png":{"type":"image","alt":"Home app open the \\\"Matter Accessory\\\" temperature detail view with the color set to a warm orange.","identifier":"pairing-11.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-11.png"}]},"pairing-00.png":{"type":"image","alt":"Home app open to the \\\"Home\\\" tab with an Airport Express and HomePod paired.","identifier":"pairing-00.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-00.png"}]},"pairing-10.png":{"type":"image","alt":"Home app open the \\\"Matter Accessory\\\" color detail view with the color set to a vivid green.","identifier":"pairing-10.png","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-10.png","traits":["1x","light"]}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/Tutorial-Table-of-Contents/Run-the-examples":{"title":"Run the examples","url":"\/tutorials\/tutorial-table-of-contents\/run-the-examples","abstract":[],"kind":"article","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents\/Run-the-examples","type":"topic","role":"article"},"esp32-c6-usb.png":{"type":"image","alt":"FIXME-ALT.","identifier":"esp32-c6-usb.png","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/esp32-c6-usb.png","traits":["1x","light"]}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/Tutorial-Table-of-Contents":{"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/Tutorial-Table-of-Contents","kind":"overview","type":"topic","title":"Build a Matter accessory with Embedded Swift","role":"overview","abstract":[{"text":"Learn how to build a simple Embedded Swift application that implements a Matter smart light accessory.","type":"text"}],"url":"\/tutorials\/tutorial-table-of-contents"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-LED-Blink#Understand-the-code":{"title":"Understand the code","url":"\/tutorials\/swiftmatterexamples\/run-example-led-blink#Understand-the-code","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink#Understand-the-code","type":"section","role":"pseudoSymbol","abstract":[{"text":"Build, run, and understand the LED Blink application.","type":"text"}],"kind":"section"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS#Install-ESP-IDF-and-ESP-Matter-SDKs":{"kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-ESP-IDF-and-ESP-Matter-SDKs","title":"Install ESP-IDF and ESP-Matter SDKs","role":"pseudoSymbol","type":"section","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory on macOS.","type":"text"}],"url":"\/tutorials\/swiftmatterexamples\/setup-macos#Install-ESP-IDF-and-ESP-Matter-SDKs"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-Smart-Light#Build-and-Run":{"kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Build-and-Run","title":"Build and Run","role":"pseudoSymbol","type":"section","abstract":[{"text":"Build, run, and understand the Smart Light application.","type":"text"}],"url":"\/tutorials\/swiftmatterexamples\/run-example-smart-light#Build-and-Run"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-Smart-Light":{"estimatedTime":"20min","kind":"project","title":"Explore the Smart Light example","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light","url":"\/tutorials\/swiftmatterexamples\/run-example-smart-light","type":"topic","role":"project","abstract":[{"type":"text","text":"Build, run, and understand the Smart Light application."}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-LED-Blink":{"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink","kind":"project","type":"topic","estimatedTime":"10min","title":"Explore the LED Blink example","role":"project","abstract":[{"type":"text","text":"Build, run, and understand the LED Blink application."}],"url":"\/tutorials\/swiftmatterexamples\/run-example-led-blink"},"walkthrough-example-smart-light-04-b.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    case .onOff:","      led.enabled = (event.value == 1)","","    case .levelControl:","      led.brightness = Int(Float(event.value) \/ 255.0 * 100.0)","","    default:","      break","    }","  }","}"],"type":"file","syntax":"swift","identifier":"walkthrough-example-smart-light-04-b.swift","highlights":[{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33}],"fileType":"swift","fileName":"Main.swift"},"pairing-07.png":{"type":"image","alt":"Home app open to the \\\"Home\\\" tab with an Airport Express, HomePod, and the microcontroller paired.","identifier":"pairing-07.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-07.png"}]},"pairing-08.png":{"type":"image","alt":"Home app open the \\\"Matter Accessory\\\" detail view with the brightness set to 0%.","identifier":"pairing-08.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-08.png"}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS#Install-Xcode":{"kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-Xcode","title":"Install Xcode","role":"pseudoSymbol","type":"section","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory on macOS.","type":"text"}],"url":"\/tutorials\/swiftmatterexamples\/setup-macos#Install-Xcode"},"homekit-logo.png":{"type":"image","alt":"FIXME-ALT.","identifier":"homekit-logo.png","variants":[{"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/homekit-logo.png","traits":["1x","light"]}]},"run-example-smart-light-hello.png":{"type":"image","alt":"FIXME-ALT.","identifier":"run-example-smart-light-hello.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/run-example-smart-light-hello.png"}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-LED-Blink#Build-and-Run":{"url":"\/tutorials\/swiftmatterexamples\/run-example-led-blink#Build-and-Run","type":"section","role":"pseudoSymbol","kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-LED-Blink#Build-and-Run","abstract":[{"type":"text","text":"Build, run, and understand the LED Blink application."}],"title":"Build and Run"},"run-example-smart-light-01.sh":{"fileName":"Run.shell","identifier":"run-example-smart-light-01.sh","type":"file","syntax":"shell","fileType":"shell","highlights":[{"line":4},{"line":5},{"line":6}],"content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git","","# Navigate to the smart light example","$ cd ~\/swift-matter-examples\/smart-light"]},"pairing-03.png":{"type":"image","alt":"Home app display the \\\"Setup Code\\\" overlay filled out with the text \\\"2020-2021\\\".","identifier":"pairing-03.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-03.png"}]},"walkthrough-example-smart-light-03.swift":{"fileName":"Main.swift","identifier":"walkthrough-example-smart-light-03.swift","type":"file","syntax":"swift","fileType":"swift","highlights":[{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22}],"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","}"]},"pairing-06.png":{"type":"image","alt":"Home app displaying the \\\"Accessory Added\\\" overlay.","identifier":"pairing-06.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-06.png"}]},"walkthrough-example-smart-light-01.swift":{"fileName":"Main.swift","identifier":"walkthrough-example-smart-light-01.swift","type":"file","syntax":"swift","fileType":"swift","highlights":[{"line":11},{"line":12},{"line":13},{"line":14},{"line":15}],"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","}"]},"pairing-04.png":{"type":"image","alt":"Home app displaying the \\\"Accessory\\\" overlay with the text \\\"Connecting..\\\".","identifier":"pairing-04.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-04.png"}]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS#Install-the-Swift-Nightly-Toolchain":{"kind":"section","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS#Install-the-Swift-Nightly-Toolchain","title":"Install the Swift Nightly Toolchain","role":"pseudoSymbol","type":"section","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory on macOS.","type":"text"}],"url":"\/tutorials\/swiftmatterexamples\/setup-macos#Install-the-Swift-Nightly-Toolchain"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-MacOS":{"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-MacOS","kind":"project","type":"topic","estimatedTime":"30min","title":"Get started on macOS","role":"project","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory on macOS.","type":"text"}],"url":"\/tutorials\/swiftmatterexamples\/setup-macos"},"pairing-01.png":{"type":"image","alt":"Home app displaying the \\\"Add Accessory\\\" overlay.","identifier":"pairing-01.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-01.png"}]},"walkthrough-example-smart-light-05.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    case .onOff:","      led.enabled = (event.value == 1)","","    case .levelControl:","      led.brightness = Int(Float(event.value) \/ 255.0 * 100.0)","","    case .colorControl(.currentHue):","      let newHue = Int(Float(event.value) \/ 255.0 * 360.0)","      led.color = .hueSaturation(newHue, led.color.saturation)","","    case .colorControl(.currentSaturation):","      let newSaturation = Int(Float(event.value) \/ 255.0 * 100.0)","      led.color = .hueSaturation(led.color.hue, newSaturation)","","    case .colorControl(.colorTemperatureMireds):","      let kelvins = 1_000_000 \/ event.value","      led.color = .temperature(kelvins)","","    default:","      break","    }","  }","","  \/\/ (3) Add the endpoint to the node","  rootNode.addEndpoint(lightEndpoint)","}"],"type":"file","syntax":"swift","identifier":"walkthrough-example-smart-light-05.swift","highlights":[{"line":50},{"line":51},{"line":52}],"fileType":"swift","fileName":"Main.swift"},"run-example-smart-light-00.sh":{"fileName":"Run.shell","identifier":"run-example-smart-light-00.sh","type":"file","syntax":"shell","fileType":"shell","highlights":[],"content":["# Clone the repo","$ cd ~","$ git clone https:\/\/github.com\/apple\/swift-matter-examples.git"]},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-Linux#Build-the-Docker-image-and-tools":{"identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Linux#Build-the-Docker-image-and-tools","url":"\/tutorials\/swiftmatterexamples\/setup-linux#Build-the-Docker-image-and-tools","type":"section","role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"Install the tools needed to build an ESP Matter accessory on Linux using a Docker container."}],"title":"Build the Docker image and tools"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Setup-Linux":{"estimatedTime":"30min","kind":"project","title":"Get started on Linux with Docker","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Setup-Linux","url":"\/tutorials\/swiftmatterexamples\/setup-linux","type":"topic","role":"project","abstract":[{"text":"Install the tools needed to build an ESP Matter accessory on Linux using a Docker container.","type":"text"}]},"walkthrough-example-smart-light-04-a.swift":{"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    default:","      break","    }","  }","}"],"type":"file","syntax":"swift","identifier":"walkthrough-example-smart-light-04-a.swift","highlights":[{"line":27},{"line":28},{"line":29},{"line":30}],"fileType":"swift","fileName":"Main.swift"},"doc://swift-matter-examples.SwiftMatterExamples/tutorials/SwiftMatterExamples/Run-Example-Smart-Light#Understand-the-code":{"title":"Understand the code","url":"\/tutorials\/swiftmatterexamples\/run-example-smart-light#Understand-the-code","identifier":"doc:\/\/swift-matter-examples.SwiftMatterExamples\/tutorials\/SwiftMatterExamples\/Run-Example-Smart-Light#Understand-the-code","type":"section","role":"pseudoSymbol","abstract":[{"text":"Build, run, and understand the Smart Light application.","type":"text"}],"kind":"section"},"walkthrough-example-smart-light-04-c.swift":{"fileName":"Main.swift","identifier":"walkthrough-example-smart-light-04-c.swift","type":"file","syntax":"swift","fileType":"swift","highlights":[{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45}],"content":["\/\/===----------------------------------------------------------------------===\/\/","\/\/","\/\/ This source file is part of the Swift open source project","\/\/","\/\/ Copyright (c) 2024 Apple Inc. and the Swift project authors.","\/\/ Licensed under Apache License v2.0 with Runtime Library Exception","\/\/","\/\/ See https:\/\/swift.org\/LICENSE.txt for license information","\/\/","\/\/===----------------------------------------------------------------------===\/\/","","@_cdecl(\"app_main\")","func app_main() {","  print(\"üèéÔ∏è   Hello, Embedded Swift! (Smart Light)\")","","  let led = LED()","","  \/\/ (1) Create a Matter root node","  let rootNode = Matter.Node()","  rootNode.identifyHandler = {","    print(\"identify\")","  }","","  \/\/ (2) Create a \"light\" endpoint","  let lightEndpoint = Matter.ExtendedColorLight(node: rootNode)","  lightEndpoint.eventHandler = { event in","    switch event.attribute {","    case .onOff:","      led.enabled = (event.value == 1)","","    case .levelControl:","      led.brightness = Int(Float(event.value) \/ 255.0 * 100.0)","","    case .colorControl(.currentHue):","      let newHue = Int(Float(event.value) \/ 255.0 * 360.0)","      led.color = .hueSaturation(newHue, led.color.saturation)","","    case .colorControl(.currentSaturation):","      let newSaturation = Int(Float(event.value) \/ 255.0 * 100.0)","      led.color = .hueSaturation(led.color.hue, newSaturation)","","    case .colorControl(.colorTemperatureMireds):","      let kelvins = 1_000_000 \/ event.value","      led.color = .temperature(kelvins)","","    default:","      break","    }","  }","}"]},"pairing-02.png":{"type":"image","alt":"Home app displaying the \\\"Select an Accessory\\\" overlay with one nearby item named \\\"Matter Accessory\\\".","identifier":"pairing-02.png","variants":[{"traits":["1x","light"],"url":"\/images\/swift-matter-examples.SwiftMatterExamples\/pairing-02.png"}]}}}